<!doctype html>
<html>
<head>
</head>
<body>
    <!--Dependencies -->
    <script src="https://ajax.googleapis.com/ajax/libs/threejs/r69/three.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="text.js"></script>
    <!--Client side scripts -->
    <script>
    var textures = new Array();

    textures.push(new THREEx.DynamicTexture(512, 512));
    textures.push(new THREEx.DynamicTexture(512, 512));
    textures.push(new THREEx.DynamicTexture(512, 512));

    var materials = new Array();

    for (var i = 0; i < textures.length; i++){
        textures[i].context.font = "20px Verdana";
        textures[i].drawText("Hello world! " + i, 200, 200 + i * 20, 'orange');

        materials.push(new THREE.MeshBasicMaterial({
            map: textures[i].texture,
            transparent: true,
            opacity: 0.9,
            side: THREE.DoubleSide
        }));
    }

    // renderer
    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // camera
    var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000);
    camera.position.z = 100;

    // scene
    var scene = new THREE.Scene();

    var spheres = new Array();

    for (var i = 0; i < materials.length; i++){
        spheres.push(new THREE.Mesh(new THREE.SphereGeometry(10 - i, 32, 32), materials[i]));
        spheres[i].renderOrder = i;
        scene.add(spheres[i]);
    }

    var update = function(){
        for (var i = 0; i < spheres.length; i++){
            this.spheres[i].rotation.y += 0.01;
        }

        this.renderer.render(scene, camera);
        window.requestAnimationFrame(update);
    }

    update();
    </script>
</body>
</html>
